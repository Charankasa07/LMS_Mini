(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{147:function(e,t,a){},148:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},181:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},231:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(16),r=a.n(n),l=(a(147),a(148),a(0));var i=function(){return Object(l.jsxs)("div",{className:"about-box",children:[Object(l.jsx)("h2",{className:"about-title",children:"About the Library"}),Object(l.jsxs)("div",{className:"about-data",children:[Object(l.jsx)("div",{className:"about-img",children:Object(l.jsx)("img",{src:"https://images.unsplash.com/photo-1583468982228-19f19164aee2?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=913&q=80",alt:""})}),Object(l.jsx)("div",{children:Object(l.jsxs)("p",{className:"about-text",children:["Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries.",Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage.",Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour",Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"Your suggestions for improvement are always welcome!"]})})]})]})};a(150);var o=function(){return Object(l.jsx)("div",{className:"footer",children:Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"footer-data",children:[Object(l.jsxs)("div",{className:"contact-details",children:[Object(l.jsx)("h1",{children:"Contact Us"}),Object(l.jsx)("p",{children:"Librarian"}),Object(l.jsx)("p",{children:"Government School"}),Object(l.jsx)("p",{children:"Visakhapatnam-530041"}),Object(l.jsx)("p",{children:"Andhra Pradesh"}),Object(l.jsx)("p",{children:"India"}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Email:"}),"example@gmail.com"]})]}),Object(l.jsxs)("div",{className:"librarian-details",children:[Object(l.jsx)("h1",{children:"Librarian"}),Object(l.jsx)("p",{children:"Name"}),Object(l.jsx)("p",{children:"Education"}),Object(l.jsx)("p",{children:"Contact: +91 9123456787"})]})]})})})},d=(a(151),a(264));var j=function(){return Object(l.jsx)("div",{className:"slider",children:Object(l.jsxs)(d.a,{children:[Object(l.jsxs)(d.a.Item,{interval:1e3,children:[Object(l.jsx)("img",{className:"d-block w-100",src:"https://images.unsplash.com/photo-1616070152767-3eb99cf10509?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",alt:"First slide"}),Object(l.jsxs)(d.a.Caption,{children:[Object(l.jsx)("h3",{children:"First slide label"}),Object(l.jsx)("p",{children:"Nulla vitae elit libero, a pharetra augue mollis interdum."})]})]}),Object(l.jsxs)(d.a.Item,{interval:500,children:[Object(l.jsx)("img",{className:"d-block w-100",src:"https://images.unsplash.com/photo-1502136969935-8d8eef54d77b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1049&q=80",alt:"Second slide"}),Object(l.jsxs)(d.a.Caption,{children:[Object(l.jsx)("h3",{children:"Second slide label"}),Object(l.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]})]}),Object(l.jsxs)(d.a.Item,{children:[Object(l.jsx)("img",{className:"d-block w-100",src:"https://images.unsplash.com/photo-1608454367599-c133fcab1245?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",alt:"Third slide"}),Object(l.jsxs)(d.a.Caption,{children:[Object(l.jsx)("h3",{children:"Third slide label"}),Object(l.jsx)("p",{children:"Praesent commodo cursus magna, vel scelerisque nisl consectetur."})]})]})]})})};a(154);var b=function(){return Object(l.jsxs)("div",{className:"popularbooks-container",children:[Object(l.jsx)("h",{className:"popularbooks-title",children:"Popular Books"}),Object(l.jsxs)("div",{className:"popularbooks",children:[Object(l.jsxs)("div",{className:"popularbook-images",children:[Object(l.jsx)("img",{className:"popular-book",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRS34iIDoKVXOhKhdwsiGSLc9RJmtq_lSQDig&usqp=CAU",alt:""}),Object(l.jsx)("img",{className:"popular-book",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfRHNwRyPkTxnMOzOvv5dOK4OS_lq4-2Yugg&usqp=CAU",alt:""}),Object(l.jsx)("img",{className:"popular-book",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ7ElcNy_v2Ri1H3VhYjYP1MzR6zBUwFQWbOirCkaqcfOqJnbrK5ZvdZNUwEfrlmJwn7pA&usqp=CAU",alt:""}),Object(l.jsx)("img",{className:"popular-book",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRS34iIDoKVXOhKhdwsiGSLc9RJmtq_lSQDig&usqp=CAU",alt:""}),Object(l.jsx)("img",{className:"popular-book",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfRHNwRyPkTxnMOzOvv5dOK4OS_lq4-2Yugg&usqp=CAU",alt:""}),Object(l.jsx)("img",{className:"popular-book",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ7ElcNy_v2Ri1H3VhYjYP1MzR6zBUwFQWbOirCkaqcfOqJnbrK5ZvdZNUwEfrlmJwn7pA&usqp=CAU",alt:""})]}),Object(l.jsxs)("div",{className:"popularbook-images",children:[Object(l.jsx)("img",{className:"popular-book",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRS34iIDoKVXOhKhdwsiGSLc9RJmtq_lSQDig&usqp=CAU",alt:""}),Object(l.jsx)("img",{className:"popular-book",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfRHNwRyPkTxnMOzOvv5dOK4OS_lq4-2Yugg&usqp=CAU",alt:""}),Object(l.jsx)("img",{className:"popular-book",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ7ElcNy_v2Ri1H3VhYjYP1MzR6zBUwFQWbOirCkaqcfOqJnbrK5ZvdZNUwEfrlmJwn7pA&usqp=CAU",alt:""}),Object(l.jsx)("img",{className:"popular-book",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRS34iIDoKVXOhKhdwsiGSLc9RJmtq_lSQDig&usqp=CAU",alt:""}),Object(l.jsx)("img",{className:"popular-book",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfRHNwRyPkTxnMOzOvv5dOK4OS_lq4-2Yugg&usqp=CAU",alt:""}),Object(l.jsx)("img",{className:"popular-book",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ7ElcNy_v2Ri1H3VhYjYP1MzR6zBUwFQWbOirCkaqcfOqJnbrK5ZvdZNUwEfrlmJwn7pA&usqp=CAU",alt:""})]})]})]})};a(155);var u=function(){return Object(l.jsxs)("div",{className:"recentaddedbooks-container",children:[Object(l.jsx)("h",{className:"recentbooks-title",children:"Recent Uploads"}),Object(l.jsxs)("div",{className:"recentbooks",children:[Object(l.jsxs)("div",{className:"images",children:[Object(l.jsx)("img",{className:"recent-book",src:"https://inkinmytea.files.wordpress.com/2011/12/apj.jpg?w=640",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://images-na.ssl-images-amazon.com/images/I/91VokXkn8hL.jpg",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://images-na.ssl-images-amazon.com/images/I/81-QB7nDh4L.jpg",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://images-na.ssl-images-amazon.com/images/I/71m-MxdJ2WL.jpg",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://images-na.ssl-images-amazon.com/images/I/71t4GuxLCuL.jpg",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://19en282jw7pc3zpwj22pg8v0-wpengine.netdna-ssl.com/wp-content/uploads/2021/01/Good-to-Great-Jim-Collins.jpg",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://images-na.ssl-images-amazon.com/images/I/81mXQdi5x+L.jpg",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1498813353l/34267304.jpg",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://d1csarkz8obe9u.cloudfront.net/posterpreviews/action-thriller-book-cover-design-template-3675ae3e3ac7ee095fc793ab61b812cc_screen.jpg?ts=1588152105",alt:""})]}),Object(l.jsxs)("div",{className:"images",children:[Object(l.jsx)("img",{className:"recent-book",src:"https://inkinmytea.files.wordpress.com/2011/12/apj.jpg?w=640",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://images-na.ssl-images-amazon.com/images/I/91VokXkn8hL.jpg",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://images-na.ssl-images-amazon.com/images/I/81-QB7nDh4L.jpg",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://images-na.ssl-images-amazon.com/images/I/71m-MxdJ2WL.jpg",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://images-na.ssl-images-amazon.com/images/I/71t4GuxLCuL.jpg",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://19en282jw7pc3zpwj22pg8v0-wpengine.netdna-ssl.com/wp-content/uploads/2021/01/Good-to-Great-Jim-Collins.jpg",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://images-na.ssl-images-amazon.com/images/I/81mXQdi5x+L.jpg",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1498813353l/34267304.jpg",alt:""}),Object(l.jsx)("img",{className:"recent-book",src:"https://d1csarkz8obe9u.cloudfront.net/posterpreviews/action-thriller-book-cover-design-template-3675ae3e3ac7ee095fc793ab61b812cc_screen.jpg?ts=1588152105",alt:""})]})]})]})},m=(a(156),a(48)),h=a.n(m),p=a(66),O=a.n(p),x=a(67),f=a.n(x);var v=function(){return Object(l.jsxs)("div",{className:"stats",children:[Object(l.jsxs)("div",{className:"stats-block",children:[Object(l.jsx)(h.a,{className:"stats-icon",style:{fontSize:80}}),Object(l.jsx)("p",{className:"stats-title",children:"Total Books"}),Object(l.jsx)("p",{className:"stats-count",children:"3254"})]}),Object(l.jsxs)("div",{className:"stats-block",children:[Object(l.jsx)(O.a,{className:"stats-icon",style:{fontSize:80}}),Object(l.jsx)("p",{className:"stats-title",children:"Total Members"}),Object(l.jsx)("p",{className:"stats-count",children:"254"})]}),Object(l.jsxs)("div",{className:"stats-block",children:[Object(l.jsx)(f.a,{className:"stats-icon",style:{fontSize:80}}),Object(l.jsx)("p",{className:"stats-title",children:"Reservations"}),Object(l.jsx)("p",{className:"stats-count",children:"54"})]})]})};a(159);var g=function(){return Object(l.jsxs)("div",{className:"welcome-box",children:[Object(l.jsx)("p",{className:"welcome-title",children:"WELCOME TO LIBRARY"}),Object(l.jsxs)("p",{className:"welcome-message",children:["Feed Your Brain",Object(l.jsx)("br",{}),Object(l.jsx)("span",{className:"welcome-submessage",children:"Grab A Book To Read"})]})]})};var N=function(){return Object(l.jsxs)("div",{id:"home",children:[Object(l.jsx)(j,{}),Object(l.jsx)(g,{}),Object(l.jsx)(i,{}),Object(l.jsx)(v,{}),Object(l.jsx)(u,{}),Object(l.jsx)(b,{}),Object(l.jsx)(o,{})]})},k=a(8),y=a(12),S=a(5),w=(a(160),a(11)),D=a.n(w),C=function(e,t){switch(t.type){case"LOGIN_START":return{user:t.payload,isLoading:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isLoading:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isLoading:!1,error:t.payload};default:return e}},A={user:JSON.parse(localStorage.getItem("user"))||null,isFetching:!1,error:!1},I=Object(s.createContext)(A),M=function(e){var t=e.children,a=Object(s.useReducer)(C,A),c=Object(S.a)(a,2),n=c[0],r=c[1];return Object(s.useEffect)((function(){localStorage.setItem("user",JSON.stringify(n.user))}),[n.user]),Object(l.jsx)(I.Provider,{value:{user:n.user,isFetching:n.isFetching,error:n.error,dispatch:r},children:t})},q=a(266),Y=a(115);var F=function(){var e=Object(s.useState)(!0),t=Object(S.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(),r=Object(S.a)(n,2),i=r[0],o=r[1],d=Object(s.useState)(),j=Object(S.a)(d,2),b=j[0],u=j[1],m=Object(s.useState)(""),h=Object(S.a)(m,2),p=h[0],O=h[1],x=Object(s.useContext)(I).dispatch,f=function(){var e=Object(y.a)(Object(k.a)().mark((function e(t,a){var s;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"LOGIN_START"}),e.prev=1,console.log(t),e.next=5,D.a.post("http://localhost:4000/login",t);case 5:s=e.sent,a({type:"LOGIN_SUCCESS",payload:s.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),a({type:"LOGIN_FAILURE",payload:e.t0}),O("Wrong Password Or Username");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"signin-container",children:Object(l.jsxs)("div",{className:"signin-card",children:[Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f({email:i,password:b},x)},children:[Object(l.jsx)("h2",{className:"signin-title",children:" Log in"}),Object(l.jsx)("p",{className:"line"}),Object(l.jsxs)("div",{className:"persontype-question",children:[Object(l.jsx)("p",{children:"Are you a Staff member ?"}),Object(l.jsx)(q.a,{onChange:function(){return c(!a)},color:"primary"})]}),Object(l.jsx)("div",{className:"error-message",children:Object(l.jsx)("p",{children:p})}),Object(l.jsxs)("div",{className:"signin-fields",children:[Object(l.jsxs)("label",{htmlFor:a?"admissionId":"employeeId",children:[" ",Object(l.jsx)("b",{children:a?"Admission ID":"Employee ID"})]}),Object(l.jsx)("input",{className:"signin-textbox",type:"text",placeholder:a?"Enter Admission ID":"Enter Employee ID",name:"email",required:!0,onChange:function(e){return o(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"password",children:Object(l.jsx)("b",{children:"Password"})}),Object(l.jsx)("input",{className:"signin-textbox",type:"password",minLength:"6",placeholder:"Enter Password",name:"psw",required:!0,onChange:function(e){u(e.target.value)}})]}),Object(l.jsx)("button",{className:"signin-button",children:"Log In"}),Object(l.jsx)("a",{className:"forget-pass",href:"/user/forgotpassword",children:"Forgot password?"})]}),Object(l.jsx)("div",{className:"signup-option",children:Object(l.jsxs)("p",{className:"signup-question",children:["Don't have an account?",Object(l.jsxs)(Y.Link,{className:"link_class",to:"/signup",children:[" ",Object(l.jsx)("h3",{style:{fontFamily:"Oswald"},children:"SignUp"})]})]})})]})})},T=a(36),R=a(15),B=(a(43),a(84),a(70)),L=a.n(B),z=a(116),E=a.n(z),G=a(71),U=a.n(G),_=a(68),P=a.n(_),H=a(69),J=a.n(H),W=a(265);var V=function(){var e=Object(s.useState)("profile"),t=Object(S.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(!1),r=Object(S.a)(n,2),i=r[0],o=r[1],d="http://localhost:4000/",j=Object(s.useContext)(I).user,b=Object(s.useState)(null),u=Object(S.a)(b,2),m=u[0],p=u[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(y.a)(Object(k.a)().mark((function e(){var t;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get(d+"user/get_data/"+j._id);case 3:t=e.sent,p(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error in fetching the member details");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[d,j]),Object(l.jsx)("div",{className:"dashboard",children:Object(l.jsxs)("div",{className:"dashboard-card",children:[Object(l.jsx)("div",{className:"sidebar-toggler",onClick:function(){return o(!i)},children:Object(l.jsx)(W.a,{children:i?Object(l.jsx)(P.a,{style:{fontSize:25,color:"rgb(234, 68, 74)"}}):Object(l.jsx)(J.a,{style:{fontSize:25,color:"rgb(234, 68, 74)"}})})}),Object(l.jsxs)("div",{className:i?"dashboard-options active":"dashboard-options",children:[Object(l.jsxs)("div",{className:"dashboard-logo",children:[Object(l.jsx)(h.a,{style:{fontSize:50}}),Object(l.jsx)("p",{className:"logo-name",children:"LMS"})]}),Object(l.jsxs)("a",{href:"#profile@member",className:"dashboard-option ".concat("profile"===a?"clicked":""),onClick:function(){c("profile"),o(!1)},children:[Object(l.jsx)(L.a,{className:"dashboard-option-icon"})," Profile"]}),Object(l.jsxs)("a",{href:"#activebooks@member",className:"dashboard-option ".concat("active"===a?"clicked":""),onClick:function(){c("active"),o(!1)},children:[Object(l.jsx)(O.a,{className:"dashboard-option-icon"})," Active"]}),Object(l.jsxs)("a",{href:"#history@member",className:"dashboard-option ".concat("history"===a?"clicked":""),onClick:function(){c("history"),o(!1)},children:[Object(l.jsx)(E.a,{className:"dashboard-option-icon"})," History"]}),Object(l.jsxs)("a",{href:"#profile@member",className:"dashboard-option ".concat("logout"===a?"clicked":""),onClick:function(){localStorage.removeItem("user"),window.location.reload(),o(!1)},children:[Object(l.jsx)(U.a,{className:"dashboard-option-icon"})," Log out"," "]})]}),Object(l.jsx)("div",{className:"dashboard-option-content",children:Object(l.jsxs)("div",{className:"member-profile-content",id:"profile@member",children:[Object(l.jsxs)("div",{className:"user-details-topbar",children:[Object(l.jsx)("img",{className:"user-profileimage",src:"./assets/images/Profile.png",alt:""}),Object(l.jsxs)("div",{className:"user-info",children:[Object(l.jsx)("p",{className:"user-name",children:null===m||void 0===m?void 0:m.userName}),Object(l.jsx)("p",{className:"user-id",children:"Student"===(null===m||void 0===m?void 0:m.userType)?null===m||void 0===m?void 0:m.clg_id:null}),Object(l.jsx)("p",{className:"user-email",children:null===m||void 0===m?void 0:m.email}),Object(l.jsx)("p",{className:"user-phone",children:null===m||void 0===m?void 0:m.mobileNumber})]})]}),Object(l.jsx)("div",{className:"user-details-specific",children:Object(l.jsx)("div",{className:"specific-left",children:Object(l.jsx)("div",{className:"specific-left-top",children:Object(l.jsxs)("p",{className:"specific-left-topic",children:[Object(l.jsx)("span",{style:{fontSize:"18px"},children:Object(l.jsx)("b",{children:"Gender"})}),Object(l.jsx)("span",{style:{fontSize:"16px"},children:null===m||void 0===m?void 0:m.gender})]})})})})]})})]})})},K=(a(181),a(118)),Q=a.n(K),X=a(117),Z=a.n(X);var $=function(){var e=Object(s.useState)(!1),t=Object(S.a)(e,2),a=t[0],c=t[1],n=function(){c(!1)};return Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("div",{className:"logo-nav",children:Object(l.jsx)(T.b,{to:"/",children:Object(l.jsx)("a",{href:"#home",children:"LIBRARY"})})}),Object(l.jsx)("div",{className:"nav-right",children:Object(l.jsxs)("ul",{className:a?"nav-options active":"nav-options",children:[Object(l.jsx)("li",{className:"option",onClick:function(){n()},children:Object(l.jsx)(T.b,{to:"/",children:Object(l.jsx)("a",{href:"#home",children:"Home"})})}),Object(l.jsx)("li",{className:"option",onClick:function(){n()},children:Object(l.jsx)(T.b,{to:"/books",children:Object(l.jsx)("a",{href:"#books",children:"Books"})})}),Object(l.jsx)("li",{className:"option",onClick:function(){n()},children:Object(l.jsx)(T.b,{to:"/signin",children:Object(l.jsx)("a",{href:"signin",children:"SignIn"})})})]})}),Object(l.jsx)("div",{className:"mobile-menu",onClick:function(){c(!a)},children:a?Object(l.jsx)(Z.a,{className:"menu-icon",style:{fontSize:40}}):Object(l.jsx)(Q.a,{className:"menu-icon",style:{fontSize:40}})})]})},ee=a(30),te=a(263),ae=a(58),se=a.n(ae),ce=(a(85),a(21)),ne=a.n(ce);var re=function(){var e,t,a,c="http://localhost:4000/",n=Object(s.useState)(!1),r=Object(S.a)(n,2),i=r[0],o=r[1],d=Object(s.useContext)(I).user,j=Object(s.useState)(""),b=Object(S.a)(j,2),u=b[0],m=b[1],h=Object(s.useState)([]),p=Object(S.a)(h,2),O=p[0],x=p[1],f=Object(s.useState)(""),v=Object(S.a)(f,2),g=v[0],N=v[1],w=Object(s.useState)([]),C=Object(S.a)(w,2),A=C[0],M=C[1],q=Object(s.useState)([]),Y=Object(S.a)(q,2),F=Y[0],T=Y[1],R=Object(s.useState)([]),B=Object(S.a)(R,2),L=B[0],z=B[1],E=Object(s.useState)(null),G=Object(S.a)(E,2),U=G[0],_=G[1],P=Object(s.useState)(null),H=Object(S.a)(P,2),J=H[0],W=H[1],V=Object(s.useState)(null),K=Object(S.a)(V,2),Q=K[0],X=K[1],Z=Object(s.useState)(null),$=Object(S.a)(Z,2),ae=$[0],ce=$[1],re=Object(s.useState)(""),le=Object(S.a)(re,2),ie=le[0],oe=le[1],de=function(){var e=Object(y.a)(Object(k.a)().mark((function e(t){var a,s,n,r;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o(!0),""===g||""===u||""===ie||null===U||null===Q){e.next=39;break}return e.next=5,D.a.get(c+"api/users/getuser/"+u);case 5:return a=e.sent,e.next=8,D.a.get(c+"api/books/getbook/"+g);case 8:if(!((s=e.sent).data.bookCountAvailable>0&&("Issued"===ie||"Reserved"===ie)||0===s.data.bookCountAvailable&&"Reserved"===ie)){e.next=36;break}return n={bookId:g,borrowerId:u,borrowerName:a.data.userFullName,bookName:s.data.bookName,transactionType:ie,fromDate:J,toDate:ae,isAdmin:d.isAdmin},e.prev=11,e.next=14,D.a.post(c+"api/transactions/add-transaction",n);case 14:return r=e.sent,A.length>=5&&A.splice(-1),e.next=18,D.a.put(c+"api/users/".concat(r.data._id,"/move-to-activetransactions"),{userId:u,isAdmin:d.isAdmin});case 18:return e.next=20,D.a.put(c+"api/books/updatebook/"+g,{isAdmin:d.isAdmin,bookCountAvailable:s.data.bookCountAvailable-1});case 20:M([r.data].concat(Object(ee.a)(A))),m(""),N(""),oe(""),_(null),X(null),W(null),ce(null),alert("Transaction was Successfull \ud83c\udf89"),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(11),console.log(e.t0);case 34:e.next=37;break;case 36:alert("The book is not available");case 37:e.next=40;break;case 39:alert("Fields must not be empty");case 40:o(!1);case 41:case"end":return e.stop()}}),e,null,[[11,31]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=function(){var e=Object(y.a)(Object(k.a)().mark((function e(){var t;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get(c+"api/transactions/all-transactions");case 3:t=e.sent,M(t.data.slice(0,5)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error in fetching transactions");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[c]),Object(s.useEffect)((function(){var e=function(){var e=Object(y.a)(Object(k.a)().mark((function e(){var t;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===u){e.next=6;break}return e.next=4,D.a.get(c+"api/users/getuser/"+u);case 4:t=e.sent,x(t.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error in getting borrower details");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[c,u]),Object(s.useEffect)((function(){var e=function(){var e=Object(y.a)(Object(k.a)().mark((function e(){var t,a;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get(c+"api/users/allmembers");case 3:return t=e.sent,e.next=6,t.data.map((function(e){return{value:"".concat(null===e||void 0===e?void 0:e._id),text:"".concat("Student"===(null===e||void 0===e?void 0:e.userType)?"".concat(null===e||void 0===e?void 0:e.userFullName,"[").concat(null===e||void 0===e?void 0:e.admissionId,"]"):"".concat(null===e||void 0===e?void 0:e.userFullName,"[").concat(null===e||void 0===e?void 0:e.employeeId,"]"))}}));case 6:a=e.sent,T(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[c]),Object(s.useEffect)((function(){var e=function(){var e=Object(y.a)(Object(k.a)().mark((function e(){var t,a;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get(c+"api/books/allbooks");case 2:return t=e.sent,e.next=5,t.data.map((function(e){return{value:"".concat(e._id),text:"".concat(e.bookName)}}));case 5:a=e.sent,z(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c]),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:"dashboard-option-title",children:"Add a Transaction"}),Object(l.jsx)("div",{className:"dashboard-title-line"}),Object(l.jsxs)("form",{className:"transaction-form",onSubmit:de,children:[Object(l.jsxs)("label",{className:"transaction-form-label",htmlFor:"borrowerId",children:["Borrower",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"semanticdropdown",children:Object(l.jsx)(te.a,{placeholder:"Select Member",fluid:!0,search:!0,selection:!0,value:u,options:F,onChange:function(e,t){return m(t.value)}})}),Object(l.jsxs)("table",{className:"admindashboard-table shortinfo-table",style:""===u?{display:"none"}:{},children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Issued"}),Object(l.jsx)("th",{children:"Reserved"}),Object(l.jsx)("th",{children:"Points"})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:O.userFullName}),Object(l.jsx)("td",{children:null===(e=O.activeTransactions)||void 0===e?void 0:e.filter((function(e){return"Issued"===e.transactionType&&"Active"===e.transactionStatus})).length}),Object(l.jsx)("td",{children:null===(t=O.activeTransactions)||void 0===t?void 0:t.filter((function(e){return"Reserved"===e.transactionType&&"Active"===e.transactionStatus})).length}),Object(l.jsx)("td",{children:O.points})]})]}),Object(l.jsxs)("table",{className:"admindashboard-table shortinfo-table",style:""===u?{display:"none"}:{},children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Book-Name"}),Object(l.jsx)("th",{children:"Transaction"}),Object(l.jsxs)("th",{children:["From Date",Object(l.jsx)("br",{}),Object(l.jsx)("span",{style:{fontSize:"10px"},children:"[MM/DD/YYYY]"})]}),Object(l.jsxs)("th",{children:["To Date",Object(l.jsx)("br",{}),Object(l.jsx)("span",{style:{fontSize:"10px"},children:"[MM/DD/YYYY]"})]}),Object(l.jsx)("th",{children:"Fine"})]}),null===(a=O.activeTransactions)||void 0===a?void 0:a.filter((function(e){return"Active"===e.transactionStatus})).map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.bookName}),Object(l.jsx)("td",{children:e.transactionType}),Object(l.jsx)("td",{children:e.fromDate}),Object(l.jsx)("td",{children:e.toDate}),Object(l.jsx)("td",{children:Math.floor((Date.parse(ne()(new Date).format("MM/DD/YYYY"))-Date.parse(e.toDate))/864e5)<=0?0:10*Math.floor((Date.parse(ne()(new Date).format("MM/DD/YYYY"))-Date.parse(e.toDate))/864e5)})]},t)}))]}),Object(l.jsxs)("label",{className:"transaction-form-label",htmlFor:"bookName",children:["Book Name",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"semanticdropdown",children:Object(l.jsx)(te.a,{placeholder:"Select a Book",fluid:!0,search:!0,selection:!0,options:L,value:g,onChange:function(e,t){return N(t.value)}})}),Object(l.jsx)("table",{className:"admindashboard-table shortinfo-table",style:""===g?{display:"none"}:{},children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Available Coipes"}),Object(l.jsx)("th",{children:"Reserved"})]})}),Object(l.jsxs)("label",{className:"transaction-form-label",htmlFor:"transactionType",children:["Transaction Type",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"semanticdropdown",children:Object(l.jsx)(te.a,{placeholder:"Select Transaction",fluid:!0,selection:!0,value:ie,options:[{value:"Reserved",text:"Reserve"},{value:"Issued",text:"Issue"}],onChange:function(e,t){return oe(t.value)}})}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"transaction-form-label",htmlFor:"from-date",children:["From Date",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)(se.a,{className:"date-picker",placeholderText:"MM/DD/YYYY",selected:U,onChange:function(e){_(e),W(ne()(e).format("MM/DD/YYYY"))},minDate:new Date,dateFormat:"MM/dd/yyyy"}),Object(l.jsxs)("label",{className:"transaction-form-label",htmlFor:"to-date",children:["To Date",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)(se.a,{className:"date-picker",placeholderText:"MM/DD/YYYY",selected:Q,onChange:function(e){X(e),ce(ne()(e).format("MM/DD/YYYY"))},minDate:new Date,dateFormat:"MM/dd/yyyy"}),Object(l.jsx)("input",{className:"transaction-form-submit",type:"submit",value:"SUBMIT",disabled:i})]}),Object(l.jsx)("p",{className:"dashboard-option-title",children:"Recent Transactions"}),Object(l.jsx)("div",{className:"dashboard-title-line"}),Object(l.jsxs)("table",{className:"admindashboard-table",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"S.No"}),Object(l.jsx)("th",{children:"Book Name"}),Object(l.jsx)("th",{children:"Borrower Name"}),Object(l.jsx)("th",{children:"Date"})]}),A.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t+1}),Object(l.jsx)("td",{children:e.bookName}),Object(l.jsx)("td",{children:e.borrowerName}),Object(l.jsx)("td",{children:e.updatedAt.slice(0,10)})]},t)}))]})]})};var le=function(){var e=Object(s.useState)(!1),t=Object(S.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(null),r=Object(S.a)(n,2),i=r[0],o=r[1],d=Object(s.useState)(null),j=Object(S.a)(d,2),b=j[0],u=j[1],m=Object(s.useState)(null),h=Object(S.a)(m,2),p=h[0],O=h[1],x=Object(s.useState)(null),f=Object(S.a)(x,2),v=f[0],g=f[1],N=Object(s.useState)(null),w=Object(S.a)(N,2),C=w[0],A=w[1],I=Object(s.useState)(null),M=Object(S.a)(I,2),q=M[0],Y=M[1],F=Object(s.useState)(null),T=Object(S.a)(F,2),R=T[0],B=T[1],L=Object(s.useState)(null),z=Object(S.a)(L,2),E=z[0],G=z[1],U=function(){var e=Object(y.a)(Object(k.a)().mark((function e(t){var a;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("hello"),c(!0),null===i||null===q||null===b||null===C||null===p||null===v||null===R||null===E){e.next=16;break}return a={userType:R,userName:i,clg_id:b,gender:E,mobileNumber:C,branch:q,email:p,password:v},console.log("Hello"),e.prev=6,e.next=9,D.a.post("http://localhost:4000/user/register",a);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.log(e.t0);case 14:e.next=17;break;case 16:alert("All the fields must be filled");case 17:c(!1);case 18:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:"dashboard-option-title",children:"Add a Member"}),Object(l.jsx)("div",{className:"dashboard-title-line"}),Object(l.jsxs)("form",{className:"addmember-form",onSubmit:U,children:[Object(l.jsx)("div",{className:"semanticdropdown",children:Object(l.jsx)(te.a,{placeholder:"User Type",fluid:!0,selection:!0,options:[{value:"Staff",text:"Staff"},{value:"Student",text:"Student"}],onChange:function(e,t){return B(t.value)}})}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"userName",children:["User Name",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-form-input",type:"text",name:"userName",value:i,required:!0,onChange:function(e){return o(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"clg_id",children:["Clg Id",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-form-input",type:"text",value:b,required:!0,onChange:function(e){return u(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"mobileNumber",children:["Mobile Number",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-form-input",type:"text",value:C,required:!0,onChange:function(e){return A(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"gender",children:["Gender",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"semanticdropdown",children:Object(l.jsx)(te.a,{placeholder:"User Type",fluid:!0,selection:!0,value:E,options:[{value:"Male",text:"Male"},{value:"Female",text:"Female"}],onChange:function(e,t){return G(t.value)}})}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"branch",children:["Branch",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-form-input",type:"text",value:q,required:!0,onChange:function(e){return Y(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"email",children:["Email",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-form-input",type:"email",value:p,required:!0,onChange:function(e){return O(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"password",children:["Password",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-form-input",type:"password",value:v,onChange:function(e){return g(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-submit",type:"submit",value:"SUBMIT",disabled:a})]})]})};var ie=function(){var e="http://localhost:4000/",t=Object(s.useState)(!1),a=Object(S.a)(t,2),c=a[0],n=a[1],r=Object(s.useContext)(I).user,i=Object(s.useState)(""),o=Object(S.a)(i,2),d=o[0],j=o[1],b=Object(s.useState)(""),u=Object(S.a)(b,2),m=u[0],h=u[1],p=Object(s.useState)(""),O=Object(S.a)(p,2),x=O[0],f=O[1],v=Object(s.useState)(null),g=Object(S.a)(v,2),N=g[0],w=g[1],C=Object(s.useState)(""),A=Object(S.a)(C,2),M=A[0],q=A[1],Y=Object(s.useState)(""),F=Object(S.a)(Y,2),T=F[0],R=F[1],B=Object(s.useState)([]),L=Object(S.a)(B,2),z=L[0],E=L[1],G=Object(s.useState)([]),U=Object(S.a)(G,2),_=U[0],P=U[1],H=Object(s.useState)([]),J=Object(S.a)(H,2),W=J[0],V=J[1];Object(s.useEffect)((function(){var t=function(){var t=Object(y.a)(Object(k.a)().mark((function t(){var a,s;return Object(k.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.get(e+"api/categories/allcategories");case 3:return a=t.sent,t.next=6,a.data.map((function(e){return{value:"".concat(e._id),text:"".concat(e.categoryName)}}));case 6:s=t.sent,E(s),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var K=function(){var t=Object(y.a)(Object(k.a)().mark((function t(a){var s,c;return Object(k.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n(!0),s={bookName:d,alternateTitle:m,author:x,bookCountAvailable:N,language:M,publisher:T,categories:_,isAdmin:r.isAdmin},t.prev=3,t.next=6,D.a.post(e+"api/books/addbook",s);case 6:c=t.sent,W.length>=5&&W.splice(-1),V([c.data].concat(Object(ee.a)(W))),j(""),h(""),f(""),w(null),q(""),R(""),P([]),alert("Book Added Successfully \ud83c\udf89"),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(3),console.log(t.t0);case 22:n(!1);case 23:case"end":return t.stop()}}),t,null,[[3,19]])})));return function(e){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){var t=function(){var t=Object(y.a)(Object(k.a)().mark((function t(){var a;return Object(k.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.get(e+"api/books/allbooks");case 2:a=t.sent,V(a.data.slice(0,5));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:"dashboard-option-title",children:"Add a Book"}),Object(l.jsx)("div",{className:"dashboard-title-line"}),Object(l.jsxs)("form",{className:"addbook-form",onSubmit:K,children:[Object(l.jsxs)("label",{className:"addbook-form-label",htmlFor:"bookName",children:["Book Name",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addbook-form-input",type:"text",name:"bookName",value:d,onChange:function(e){j(e.target.value)},required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{className:"addbook-form-label",htmlFor:"alternateTitle",children:"AlternateTitle"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addbook-form-input",type:"text",name:"alternateTitle",value:m,onChange:function(e){h(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"addbook-form-label",htmlFor:"author",children:["Author Name",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addbook-form-input",type:"text",name:"author",value:x,onChange:function(e){f(e.target.value)},required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{className:"addbook-form-label",htmlFor:"language",children:"Language"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addbook-form-input",type:"text",name:"language",value:M,onChange:function(e){q(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{className:"addbook-form-label",htmlFor:"publisher",children:"Publisher"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addbook-form-input",type:"text",name:"publisher",value:T,onChange:function(e){R(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"addbook-form-label",htmlFor:"copies",children:["No.of Copies Available",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addbook-form-input",type:"text",name:"copies",value:N,onChange:function(e){w(e.target.value)},required:!0}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"addbook-form-label",htmlFor:"categories",children:["Categories",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"semanticdropdown",children:Object(l.jsx)(te.a,{placeholder:"Category",fluid:!0,multiple:!0,search:!0,selection:!0,options:z,value:_,onChange:function(e,t){return P(t.value)}})}),Object(l.jsx)("input",{className:"addbook-submit",type:"submit",value:"SUBMIT",disabled:c})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:"dashboard-option-title",children:"Recently Added Books"}),Object(l.jsx)("div",{className:"dashboard-title-line"}),Object(l.jsxs)("table",{className:"admindashboard-table",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"S.No"}),Object(l.jsx)("th",{children:"Book Name"}),Object(l.jsx)("th",{children:"Added Date"})]}),W.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t+1}),Object(l.jsx)("td",{children:e.bookName}),Object(l.jsx)("td",{children:e.createdAt.substring(0,10)})]},t)}))]})]})]})},oe=a(122),de=a.n(oe),je=a(124),be=a.n(je),ue=a(123),me=a.n(ue);var he=function(){var e,t,a,c="http://localhost:4000/",n=Object(s.useState)(null),r=Object(S.a)(n,2),i=r[0],o=r[1],d=Object(s.useState)(null),j=Object(S.a)(d,2),b=j[0],u=j[1],m=Object(s.useState)(null),h=Object(S.a)(m,2),p=h[0],O=h[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(y.a)(Object(k.a)().mark((function e(){var t;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get(c+"api/users/allmembers");case 3:t=e.sent,o(t.data.map((function(e){return{value:"".concat(null===e||void 0===e?void 0:e._id),text:"".concat("Student"===(null===e||void 0===e?void 0:e.userType)?"".concat(null===e||void 0===e?void 0:e.userFullName,"[").concat(null===e||void 0===e?void 0:e.admissionId,"]"):"".concat(null===e||void 0===e?void 0:e.userFullName,"[").concat(null===e||void 0===e?void 0:e.employeeId,"]"))}}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[c]),Object(s.useEffect)((function(){var e=function(){var e=Object(y.a)(Object(k.a)().mark((function e(){var t;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===b){e.next=11;break}return e.prev=1,e.next=4,D.a.get(c+"api/users/getuser/"+b);case 4:t=e.sent,O(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error in fetching the member details");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[c,b]),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"semanticdropdown getmember-dropdown",children:Object(l.jsx)(te.a,{placeholder:"Select Member",fluid:!0,search:!0,selection:!0,value:b,options:i,onChange:function(e,t){return u(t.value)}})}),Object(l.jsxs)("div",{style:null===b?{display:"none"}:{},children:[Object(l.jsxs)("div",{className:"member-profile-content",id:"profile@member",style:null===b?{display:"none"}:{},children:[Object(l.jsxs)("div",{className:"user-details-topbar",children:[Object(l.jsx)("img",{className:"user-profileimage",src:"./assets/images/Profile.png",alt:""}),Object(l.jsxs)("div",{className:"user-info",children:[Object(l.jsx)("p",{className:"user-name",children:null===p||void 0===p?void 0:p.userFullName}),Object(l.jsx)("p",{className:"user-id",children:"Student"===(null===p||void 0===p?void 0:p.userType)?null===p||void 0===p?void 0:p.admissionId:null===p||void 0===p?void 0:p.employeeId}),Object(l.jsx)("p",{className:"user-email",children:null===p||void 0===p?void 0:p.email}),Object(l.jsx)("p",{className:"user-phone",children:null===p||void 0===p?void 0:p.mobileNumber})]})]}),Object(l.jsxs)("div",{className:"user-details-specific",children:[Object(l.jsxs)("div",{className:"specific-left",children:[Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsxs)("p",{style:{display:"flex",flex:"0.5",flexDirection:"column"},children:[Object(l.jsx)("span",{style:{fontSize:"18px"},children:Object(l.jsx)("b",{children:"Age"})}),Object(l.jsx)("span",{style:{fontSize:"16px"},children:null===p||void 0===p?void 0:p.age})]}),Object(l.jsxs)("p",{style:{display:"flex",flex:"0.5",flexDirection:"column"},children:[Object(l.jsx)("span",{style:{fontSize:"18px"},children:Object(l.jsx)("b",{children:"Gender"})}),Object(l.jsx)("span",{style:{fontSize:"16px"},children:null===p||void 0===p?void 0:p.gender})]})]}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"30px"},children:[Object(l.jsxs)("p",{style:{display:"flex",flex:"0.5",flexDirection:"column"},children:[Object(l.jsx)("span",{style:{fontSize:"18px"},children:Object(l.jsx)("b",{children:"DOB"})}),Object(l.jsx)("span",{style:{fontSize:"16px"},children:null===p||void 0===p?void 0:p.dob})]}),Object(l.jsxs)("p",{style:{display:"flex",flex:"0.5",flexDirection:"column"},children:[Object(l.jsx)("span",{style:{fontSize:"18px"},children:Object(l.jsx)("b",{children:"Address"})}),Object(l.jsx)("span",{style:{fontSize:"16px"},children:null===p||void 0===p?void 0:p.address})]})]})]}),Object(l.jsxs)("div",{className:"specific-right",children:[Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:"0.5"},children:[Object(l.jsx)("p",{style:{fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("b",{children:"Points"})}),Object(l.jsx)("p",{style:{fontSize:"25px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"15px"},children:"540"})]}),Object(l.jsx)("div",{className:"dashboard-title-line"}),Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:"0.5"},children:[Object(l.jsx)("p",{style:{fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("b",{children:"Rank"})}),Object(l.jsx)("p",{style:{fontSize:"25px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"15px"},children:null===p||void 0===p?void 0:p.points})]})]})]})]}),Object(l.jsxs)("div",{className:"member-activebooks-content",id:"activebooks@member",children:[Object(l.jsx)("p",{style:{fontWeight:"bold",fontSize:"22px",marginTop:"22px",marginBottom:"22px"},children:"Issued"}),Object(l.jsxs)("table",{className:"activebooks-table",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"S.No"}),Object(l.jsx)("th",{children:"Book-Name"}),Object(l.jsx)("th",{children:"From Date"}),Object(l.jsx)("th",{children:"To Date"}),Object(l.jsx)("th",{children:"Fine"})]}),null===p||void 0===p||null===(e=p.activeTransactions)||void 0===e?void 0:e.filter((function(e){return"Issued"===e.transactionType})).map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t+1}),Object(l.jsx)("td",{children:e.bookName}),Object(l.jsx)("td",{children:e.fromDate}),Object(l.jsx)("td",{children:e.toDate}),Object(l.jsx)("td",{children:Math.floor((Date.parse(ne()(new Date).format("MM/DD/YYYY"))-Date.parse(e.toDate))/864e5)<=0?0:10*Math.floor((Date.parse(ne()(new Date).format("MM/DD/YYYY"))-Date.parse(e.toDate))/864e5)})]},t)}))]})]}),Object(l.jsxs)("div",{className:"member-reservedbooks-content",id:"reservedbooks@member",children:[Object(l.jsx)("p",{style:{fontWeight:"bold",fontSize:"22px",marginTop:"22px",marginBottom:"22px"},children:"Reserved"}),Object(l.jsxs)("table",{className:"activebooks-table",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"S.No"}),Object(l.jsx)("th",{children:"Book-Name"}),Object(l.jsx)("th",{children:"From"}),Object(l.jsx)("th",{children:"To"})]}),null===p||void 0===p||null===(t=p.activeTransactions)||void 0===t?void 0:t.filter((function(e){return"Reserved"===e.transactionType})).map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t+1}),Object(l.jsx)("td",{children:e.bookName}),Object(l.jsx)("td",{children:e.fromDate}),Object(l.jsx)("td",{children:e.toDate})]},t)}))]})]}),Object(l.jsxs)("div",{className:"member-history-content",id:"history@member",children:[Object(l.jsx)("p",{style:{fontWeight:"bold",fontSize:"22px",marginTop:"22px",marginBottom:"22px"},children:"History"}),Object(l.jsxs)("table",{className:"activebooks-table",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"S.No"}),Object(l.jsx)("th",{children:"Book-Name"}),Object(l.jsx)("th",{children:"From"}),Object(l.jsx)("th",{children:"To"}),Object(l.jsx)("th",{children:"Return Date"})]}),null===p||void 0===p||null===(a=p.prevTransactions)||void 0===a?void 0:a.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t+1}),Object(l.jsx)("td",{children:e.bookName}),Object(l.jsx)("td",{children:e.fromDate}),Object(l.jsx)("td",{children:e.toDate}),Object(l.jsx)("td",{children:e.returnDate})]},t)}))]})]})]})]})},pe=a(125),Oe=a.n(pe);var xe=function(){var e="http://localhost:4000/",t=Object(s.useContext)(I).user,a=Object(s.useState)([]),c=Object(S.a)(a,2),n=c[0],r=c[1],i=Object(s.useState)(null),o=Object(S.a)(i,2),d=o[0],j=o[1],b=Object(s.useState)(null),u=Object(S.a)(b,2),m=u[0],h=u[1],p=Object(s.useState)(null),O=Object(S.a)(p,2),x=O[0],f=O[1];Object(s.useEffect)((function(){var t=function(){var t=Object(y.a)(Object(k.a)().mark((function t(){var a;return Object(k.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.get(e+"api/users/allmembers");case 3:a=t.sent,h(a.data.map((function(e){return{value:"".concat(null===e||void 0===e?void 0:e._id),text:"".concat("Student"===(null===e||void 0===e?void 0:e.userType)?"".concat(null===e||void 0===e?void 0:e.userFullName,"[").concat(null===e||void 0===e?void 0:e.admissionId,"]"):"".concat(null===e||void 0===e?void 0:e.userFullName,"[").concat(null===e||void 0===e?void 0:e.employeeId,"]"))}}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(s.useEffect)((function(){var t=function(){var t=Object(y.a)(Object(k.a)().mark((function t(){var a;return Object(k.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.get(e+"api/transactions/all-transactions");case 3:a=t.sent,r(a.data.sort((function(e,t){return Date.parse(e.toDate)-Date.parse(t.toDate)})).filter((function(e){return"Active"===e.transactionStatus}))),console.log("Okay"),j(null),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[e,d]);var v=function(){var a=Object(y.a)(Object(k.a)().mark((function a(s,c,n,r){var l,i,o;return Object(k.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,D.a.put(e+"api/transactions/update-transaction/"+s,{isAdmin:t.isAdmin,transactionStatus:"Completed",returnDate:ne()(new Date).format("MM/DD/YYYY")});case 3:return a.next=5,D.a.get(e+"api/users/getuser/"+c);case 5:if(l=a.sent,i=l.data.points,!(r>0)){a.next=12;break}return a.next=10,D.a.put(e+"api/users/updateuser/"+c,{points:i-10,isAdmin:t.isAdmin});case 10:a.next=15;break;case 12:if(!(r<=0)){a.next=15;break}return a.next=15,D.a.put(e+"api/users/updateuser/"+c,{points:i+10,isAdmin:t.isAdmin});case 15:return a.next=17,D.a.get(e+"api/books/getbook/"+n);case 17:return o=a.sent,a.next=20,D.a.put(e+"api/books/updatebook/"+n,{isAdmin:t.isAdmin,bookCountAvailable:o.data.bookCountAvailable+1});case 20:return a.next=22,D.a.put(e+"api/users/".concat(s,"/move-to-prevtransactions"),{userId:c,isAdmin:t.isAdmin});case 22:j("Completed"),alert("Book returned to the library successfully"),a.next=29;break;case 26:a.prev=26,a.t0=a.catch(0),console.log(a.t0);case 29:case"end":return a.stop()}}),a,null,[[0,26]])})));return function(e,t,s,c){return a.apply(this,arguments)}}(),g=function(){var a=Object(y.a)(Object(k.a)().mark((function a(s){return Object(k.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,D.a.put(e+"api/transactions/update-transaction/"+s,{transactionType:"Issued",isAdmin:t.isAdmin});case 3:j("Completed"),alert("Book issued succesfully \ud83c\udf86"),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"semanticdropdown returnbook-dropdown",children:Object(l.jsx)(te.a,{placeholder:"Select Member",fluid:!0,search:!0,selection:!0,value:x,options:m,onChange:function(e,t){return f(t.value)}})}),Object(l.jsx)("p",{className:"dashboard-option-title",children:"Issued"}),Object(l.jsxs)("table",{className:"admindashboard-table",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Book Name"}),Object(l.jsx)("th",{children:"Borrower Name"}),Object(l.jsx)("th",{children:"From Date"}),Object(l.jsx)("th",{children:"To Date"}),Object(l.jsx)("th",{children:"Fine"}),Object(l.jsx)("th",{})]}),null===n||void 0===n?void 0:n.filter((function(e){return(null===x||e.borrowerId===x)&&"Issued"===e.transactionType})).map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.bookName}),Object(l.jsx)("td",{children:e.borrowerName}),Object(l.jsx)("td",{children:e.fromDate}),Object(l.jsx)("td",{children:e.toDate}),Object(l.jsx)("td",{children:Math.floor((Date.parse(ne()(new Date).format("MM/DD/YYYY"))-Date.parse(e.toDate))/864e5)<=0?0:10*Math.floor((Date.parse(ne()(new Date).format("MM/DD/YYYY"))-Date.parse(e.toDate))/864e5)}),Object(l.jsx)("td",{children:Object(l.jsx)("button",{onClick:function(){v(e._id,e.borrowerId,e.bookId,Math.floor((Date.parse(ne()(new Date).format("MM/DD/YYYY"))-Date.parse(e.toDate))/864e5))},children:"Return"})})]},t)}))]}),Object(l.jsx)("p",{className:"dashboard-option-title",children:"Reserved"}),Object(l.jsxs)("table",{className:"admindashboard-table",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Book Name"}),Object(l.jsx)("th",{children:"Borrower Name"}),Object(l.jsx)("th",{children:"From Date"}),Object(l.jsx)("th",{children:"To Date"}),Object(l.jsx)("th",{})]}),null===n||void 0===n?void 0:n.filter((function(e){return(null===x||e.borrowerId===x)&&"Reserved"===e.transactionType})).map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.bookName}),Object(l.jsx)("td",{children:e.borrowerName}),Object(l.jsx)("td",{children:e.fromDate}),Object(l.jsx)("td",{children:e.toDate}),Object(l.jsx)("td",{children:Object(l.jsx)("button",{onClick:function(){g(e._id)},children:"Convert"})})]},t)}))]})]})},fe=document.createElement("link");fe.rel="stylesheet",fe.href="https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css",document.head.appendChild(fe);var ve=function(){var e=Object(s.useState)("addbooks"),t=Object(S.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(!1),r=Object(S.a)(n,2),i=r[0],o=r[1];return Object(l.jsx)("div",{className:"dashboard",children:Object(l.jsxs)("div",{className:"dashboard-card",children:[Object(l.jsx)("div",{className:"sidebar-toggler",onClick:function(){return o(!i)},children:Object(l.jsx)(W.a,{children:i?Object(l.jsx)(P.a,{style:{fontSize:25,color:"rgb(234, 68, 74)"}}):Object(l.jsx)(J.a,{style:{fontSize:25,color:"rgb(234, 68, 74)"}})})}),Object(l.jsxs)("div",{className:i?"dashboard-options active":"dashboard-options",children:[Object(l.jsxs)("div",{className:"dashboard-logo",children:[Object(l.jsx)(h.a,{style:{fontSize:50}}),Object(l.jsx)("p",{className:"logo-name",children:"LCMS"})]}),Object(l.jsxs)("p",{className:"dashboard-option ".concat("profile"===a?"clicked":""),onClick:function(){c("profile"),o(!1)},children:[Object(l.jsx)(L.a,{className:"dashboard-option-icon"})," Profile"]}),Object(l.jsxs)("p",{className:"dashboard-option ".concat("addbook"===a?"clicked":""),onClick:function(){c("addbook"),o(!1)},children:[Object(l.jsx)(f.a,{className:"dashboard-option-icon"}),"Add Book"]}),Object(l.jsxs)("p",{className:"dashboard-option ".concat("addtransaction"===a?"clicked":""),onClick:function(){c("addtransaction"),o(!1)},children:[Object(l.jsx)(de.a,{className:"dashboard-option-icon"})," Add Transaction "]}),Object(l.jsxs)("p",{className:"dashboard-option ".concat("getmember"===a?"clicked":""),onClick:function(){c("getmember"),o(!1)},children:[Object(l.jsx)(me.a,{className:"dashboard-option-icon"})," Get Member "]}),Object(l.jsxs)("p",{className:"dashboard-option ".concat("addmember"===a?"clicked":""),onClick:function(){c("addmember"),o(!1)},children:[Object(l.jsx)(be.a,{className:"dashboard-option-icon"})," Add Member "]}),Object(l.jsxs)("p",{className:"dashboard-option ".concat("returntransaction"===a?"clicked":""),onClick:function(){c("returntransaction"),o(!1)},children:[Object(l.jsx)(Oe.a,{className:"dashboard-option-icon"})," Return "]}),Object(l.jsxs)("p",{className:"dashboard-option",onClick:function(){localStorage.removeItem("user"),window.location.reload()},children:[Object(l.jsx)(U.a,{className:"dashboard-option-icon"})," Log out "]})]}),Object(l.jsxs)("div",{className:"dashboard-option-content",children:[Object(l.jsx)("div",{className:"dashboard-addbooks-content",style:"addbook"!==a?{display:"none"}:{},children:Object(l.jsx)(ie,{})}),Object(l.jsx)("div",{className:"dashboard-transactions-content",style:"addtransaction"!==a?{display:"none"}:{},children:Object(l.jsx)(re,{})}),Object(l.jsx)("div",{className:"dashboard-addmember-content",style:"addmember"!==a?{display:"none"}:{},children:Object(l.jsx)(le,{})}),Object(l.jsx)("div",{className:"dashboard-addmember-content",style:"getmember"!==a?{display:"none"}:{},children:Object(l.jsx)(he,{})}),Object(l.jsx)("div",{className:"dashboard-addmember-content",style:"returntransaction"!==a?{display:"none"}:{},children:Object(l.jsx)(xe,{})})]})]})})},ge=function(){return Object(l.jsx)("div",{className:"HomePage",children:Object(l.jsxs)("div",{className:"col-md-6 m-auto",style:{display:"flex",backgroundColor:"white",padding:"5%"},children:[Object(l.jsxs)("div",{className:"card",style:{marginLeft:"15%"},children:[Object(l.jsx)("br",{}),Object(l.jsxs)(T.b,{className:"link_class",to:"/user/register",children:[" ",Object(l.jsx)("h3",{style:{fontFamily:"Oswald"},children:"SignUp as  Librarian"})]})]}),Object(l.jsxs)("div",{className:"card",style:{marginLeft:"10%"},children:[Object(l.jsx)("br",{}),Object(l.jsxs)(T.b,{className:"link_class",to:"/user/register",children:[" ",Object(l.jsx)("h3",{style:{fontFamily:"Oswald"},children:"SignUp as  Student"})]})]})]})})};var Ne=function(){var e="http://localhost:4000/",t=Object(s.useState)(!1),a=Object(S.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(null),i=Object(S.a)(r,2),o=i[0],d=i[1],j=Object(s.useState)(null),b=Object(S.a)(j,2),u=b[0],m=b[1],h=Object(s.useState)(null),p=Object(S.a)(h,2),O=p[0],x=p[1],f=Object(s.useState)(null),v=Object(S.a)(f,2),g=v[0],N=v[1],w=Object(s.useState)(null),C=Object(S.a)(w,2),A=C[0],I=C[1],M=Object(s.useState)(null),q=Object(S.a)(M,2),Y=q[0],F=q[1],T=Object(s.useState)(null),R=Object(S.a)(T,2),B=R[0],L=R[1],z=Object(s.useState)([]),E=Object(S.a)(z,2),G=E[0],U=E[1],_=Object(s.useState)(null),P=Object(S.a)(_,2),H=P[0],J=P[1],W=Object(s.useState)(null),V=Object(S.a)(W,2),K=V[0],Q=V[1],X=Object(s.useState)(null),Z=Object(S.a)(X,2),$=Z[0],ae=Z[1],ce=Object(s.useState)(null),re=Object(S.a)(ce,2),le=re[0],ie=re[1],oe=Object(s.useState)(null),de=Object(S.a)(oe,2),je=de[0],be=de[1],ue=function(){var t=Object(y.a)(Object(k.a)().mark((function t(a){var s,c;return Object(k.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n(!0),null===o||null===H||null===$||null===je||null===K||null===g||null===B||null===A||null===Y){t.next=30;break}return s={userType:H,userFullName:o,admissionId:u,employeeId:O,age:$,dob:je,gender:K,address:g,mobileNumber:B,email:A,password:Y},t.prev=4,t.next=7,D.a.post(e+"user/register",s);case 7:c=t.sent,G.length>=5&&G.splice(-1),U([c.data].concat(Object(ee.a)(G))),d(null),J("Student"),m(null),x(null),N(null),L(null),I(null),F(null),Q(null),ae(null),ie(null),be(null),alert("Member Added"),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(4),console.log(t.t0);case 28:t.next=31;break;case 30:alert("All the fields must be filled");case 31:n(!1);case 32:case"end":return t.stop()}}),t,null,[[4,25]])})));return function(e){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){var t=function(){var t=Object(y.a)(Object(k.a)().mark((function t(){var a,s;return Object(k.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.get(e+"api/users/allmembers");case 3:return a=t.sent,t.next=6,a.data.slice(0,5);case 6:s=t.sent,U(s),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:"dashboard-option-title",children:"Add a Member"}),Object(l.jsx)("div",{className:"dashboard-title-line"}),Object(l.jsxs)("form",{className:"addmember-form",onSubmit:ue,children:[Object(l.jsx)("div",{className:"semanticdropdown",children:Object(l.jsx)(te.a,{placeholder:"User Type",fluid:!0,selection:!0,options:[{value:"Staff",text:"Staff"},{value:"Student",text:"Student"}],onChange:function(e,t){return J(t.value)}})}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"userFullName",children:["Full Name",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-form-input",type:"text",name:"userFullName",value:o,required:!0,onChange:function(e){return d(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"Student"===H?"admissionId":"employeeId",children:["Student"===H?"Admission Id":"Employee Id",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-form-input",type:"text",value:"Student"===H?u:O,required:!0,onChange:function(e){"Student"===H?m(e.target.value):x(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"mobileNumber",children:["Mobile Number",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-form-input",type:"text",value:B,required:!0,onChange:function(e){return L(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"gender",children:["Gender",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"semanticdropdown",children:Object(l.jsx)(te.a,{placeholder:"User Type",fluid:!0,selection:!0,value:K,options:[{value:"Male",text:"Male"},{value:"Female",text:"Female"}],onChange:function(e,t){return Q(t.value)}})}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"age",children:["Age",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-form-input",type:"text",value:$,required:!0,onChange:function(e){return ae(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"dob",children:["Date of Birth",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)(se.a,{className:"date-picker",placeholderText:"MM/DD/YYYY",selected:le,onChange:function(e){ie(e),be(ne()(e).format("MM/DD/YYYY"))},dateFormat:"MM/dd/yyyy"}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"address",children:["Address",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-form-input address-field",value:g,type:"text",required:!0,onChange:function(e){return N(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"email",children:["Email",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-form-input",type:"email",value:A,required:!0,onChange:function(e){return I(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{className:"addmember-form-label",htmlFor:"password",children:["Password",Object(l.jsx)("span",{className:"required-field",children:"*"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-form-input",type:"password",value:Y,onChange:function(e){return F(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"addmember-submit",type:"submit",value:"SUBMIT",disabled:c})]}),Object(l.jsx)("p",{className:"dashboard-option-title",children:"Add a Member"}),Object(l.jsx)("div",{className:"dashboard-title-line"}),Object(l.jsxs)("table",{className:"admindashboard-table",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"S.No"}),Object(l.jsx)("th",{children:"Member Type"}),Object(l.jsx)("th",{children:"Member ID"}),Object(l.jsx)("th",{children:"Member Name"})]}),G.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t+1}),Object(l.jsx)("td",{children:e.userType}),Object(l.jsx)("td",{children:"Student"===e.userType?e.admissionId:e.employeeId}),Object(l.jsx)("td",{children:e.userFullName})]},t)}))]})]})};a(226);var ke=function(){var e=Object(s.useState)(),t=Object(S.a)(e,2),a=t[0],c=t[1],n=function(){var e=Object(y.a)(Object(k.a)().mark((function e(t){var s;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={email:a},e.next=4,D.a.post("http://localhost:4000/user/forgotpassword",s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"forgot-pass-container",children:Object(l.jsxs)("form",{onSubmit:n,children:[Object(l.jsx)("label",{htmlFor:"Email",children:Object(l.jsx)("b",{children:"Enter Email Id"})})," ",Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"signin-textbox",type:"text",placeholder:"Email",name:"email",required:!0,onChange:function(e){return c(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"submit",value:"SUBMIT"})]})})};a(227);var ye=function(){var e="http://localhost:4000/",t=Object(s.useContext)(I).user,a=Object(s.useState)([]),c=Object(S.a)(a,2),n=c[0],r=c[1],i=Object(s.useState)([]),o=Object(S.a)(i,2),d=o[0],j=o[1],b=Object(s.useState)(null),u=Object(S.a)(b,2),m=u[0],h=u[1];Object(s.useEffect)((function(){var t=function(){var t=Object(y.a)(Object(k.a)().mark((function t(){var a;return Object(k.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.get(e+"org/get");case 3:a=t.sent,r(a.data),j(a.data),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var p=function(){var e=Object(y.a)(Object(k.a)().mark((function e(t){var a,s,c;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=document.getElementById("search-input").value.toLowerCase(),console.log(a),null==(s=m)&&(s="title"),console.log(s),e.next=8,n.filter((function(e){return e["".concat(s)].toLowerCase().includes(a)}),s);case 8:c=e.sent,j(c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=[{value:"title",text:"Title"},{value:"author",text:" Author"},{value:"publication",text:"Publication"}],x=function(){var t=Object(y.a)(Object(k.a)().mark((function t(a,s){var c,n,r,l;return Object(k.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=a._id,console.log(a._id),n=s.email,r={bid:c,email:n},console.log(s),l=e+"user/book-now",console.log(l),t.next=10,D.a.post(e+"user/book-now",r);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"book-details-container",children:[Object(l.jsxs)("div",{className:"search-box",children:[Object(l.jsx)("input",{className:"search-input",type:"search",placeholder:"Search a Book",id:"search-input"}),Object(l.jsx)("button",{className:"search-button",onClick:p,children:"Search"}),Object(l.jsx)(te.a,{className:"search-filter",placeholder:"Search By",fluid:!0,selection:!0,options:O,onChange:function(e,t){return h(t.value)},defaultValue:O[0]})]}),Object(l.jsx)("div",{className:"book-container",children:d.map((function(e){return Object(l.jsxs)("div",{className:"book-card",children:[Object(l.jsx)("h5",{className:"book",children:e.title}),Object(l.jsx)("p",{className:"book",children:e.author}),Object(l.jsx)("p",{className:"book",children:e.publication}),Object(l.jsx)("p",{className:"book",children:e.edition?"".concat(e.edition+" Edition"):null}),Object(l.jsx)("p",{className:"book",children:e.year}),Object(l.jsxs)("p",{className:"book",children:[Object(l.jsx)("b",{children:"Copies : "})," ",e.copies]}),Object(l.jsx)("button",{className:"book-now",onClick:function(){return x(e,t)},children:"Book Now"})]})}))})]})};var Se=function(){return Object(l.jsx)("div",{children:"Thank you for booking with us! We will contact you shortly."})};var we=function(){var e=Object(s.useContext)(I).user;return Object(l.jsxs)(T.a,{children:[Object(l.jsx)($,{}),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(R.Switch,{children:[Object(l.jsx)(R.Route,{exact:!0,path:"/",children:Object(l.jsx)(N,{})}),Object(l.jsx)(R.Route,{exact:!0,path:"/signup",children:Object(l.jsx)(ge,{})}),Object(l.jsx)(R.Route,{exact:!0,path:"/user/forgotpassword",children:Object(l.jsx)(ke,{})}),Object(l.jsx)(R.Route,{exact:!0,path:"/user/register",children:Object(l.jsx)(le,{})}),Object(l.jsx)(R.Route,{exact:!0,path:"/org/register",children:Object(l.jsx)(Ne,{})}),Object(l.jsx)(R.Route,{exact:!0,path:"/signin",children:e?e.isAdmin?Object(l.jsx)(R.Redirect,{to:"/dashboard@admin"}):Object(l.jsx)(R.Redirect,{to:"/dashboard@member"}):Object(l.jsx)(F,{})}),Object(l.jsx)(R.Route,{exact:!0,path:"/dashboard@member",children:e&&!1===e.isAdmin?Object(l.jsx)(V,{}):Object(l.jsx)(R.Redirect,{to:"/"})}),Object(l.jsx)(R.Route,{exact:!0,path:"/dashboard@admin",children:e&&!0===e.isAdmin?Object(l.jsx)(ve,{}):Object(l.jsx)(R.Redirect,{to:"/"})}),Object(l.jsx)(R.Route,{exact:!0,path:"/books",children:e?Object(l.jsx)(ye,{}):Object(l.jsx)(F,{})}),Object(l.jsx)(R.Route,{exact:!0,path:"/books/user/booking-message",children:Object(l.jsx)(Se,{})})]})})]})},De=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,267)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))};a(228);r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(M,{children:Object(l.jsx)(we,{})})}),document.getElementById("root")),De()},43:function(e,t,a){},84:function(e,t,a){}},[[231,1,2]]]);
//# sourceMappingURL=main.23c67514.chunk.js.map